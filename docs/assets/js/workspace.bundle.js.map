{"version":3,"file":"workspace.bundle.js","mappings":";;;;;;;;;;;;;;AAAA;AACA;AACA;AACO;AACP;AACA;;;;;;;;;;;;;;;ACLA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,SAAS;AAC1B;AACA;AACA,SAAS,iBAAiB;AAC1B;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;ACrCO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,eAAe,IAAI,cAAc;AACjE;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,SAAS;AAChD;AACA;AACA;AACA;AACA;AACA,wCAAwC,eAAe,IAAI,cAAc;AACzE;AACA;AACA;AACA,oCAAoC,QAAQ;AAC5C,oCAAoC,cAAc;AAClD,oCAAoC,KAAK;AACzC;AACA,oCAAoC,eAAe;AACnD,oCAAoC,sBAAsB;AAC1D,4CAA4C,SAAS;AACrD;AACA,oDAAoD,KAAK;AACzD,sDAAsD,KAAK;AAC3D;AACA;AACA,aAAa;AACb,qCAAqC,aAAa;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,SAAS,aAAa,GAAG;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,SAAS;AAC5C;AACA,mCAAmC,oCAAoC;AACvE,+CAA+C,sDAAsD;AACrG,qBAAqB;AACrB;AACA;AACA,sCAAsC;AACtC;AACA;AACA,mCAAmC,SAAS,aAAa,GAAG;AAC5D;AACA,mCAAmC,oCAAoC;AACvE;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,uBAAuB,SAAS,aAAa,GAAG,KAAK,kBAAkB;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;ACxOA;AACoE;AACA;AACA;AAC7D;AACP;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yDAAyD,UAAU;AACnE;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,iFAAuB;AAC3C;AACA;AACA,oBAAoB,iFAAuB;AAC3C;AACA;AACA,oBAAoB,iFAAuB;AAC3C;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;;;;;;;;;;;;;;;ACvCA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,SAAS;AACrD;AACA;AACA;AACA,iBAAiB;AACjB;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gEAAgE;AAChE;AACA,gEAAgE;AAChE;AACA,gEAAgE;AAChE;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,WAAW;AACpD;AACA;AACA;AACA;;;;;;;;;;;;;;;AC/HA;AACO;AACP;AACA;AACA;AACA;;;;;;;;;;;;;;;ACLA;AACO;AACP;AACA;AACA;AACA;;;;;;;;;;;;;;;ACLO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,iBAAiB,gFAAgF;AACjG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;;;;;;;;;;;;;;;ACrGA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,QAAQ;AACzC;AACA,kCAAkC,mBAAmB;AACrD,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,yEAAyE;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;UCtHA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA,E;;;;;WCPA,wF;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D,E;;;;;;;;;;;;;;;;;ACNA;AAC2D;AACtB;AACe;AACN;AACoB;AACpB;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,sEAAsE,GAAG;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,kDAAQ;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC,uDAAS;AAC9C;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA,gCAAgC;AAChC;AACA;AACA,gCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA,mCAAmC,SAAS;AAC5C;AACA;AACA;AACA;AACA;AACA,uDAAuD;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yDAAyD;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,uDAAS;AAClD;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA,oCAAoC;AACpC;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,uDAAW;AACvB;AACA;AACA;AACA,0BAA0B,iEAAkB;AAC5C;AACA;AACA,0BAA0B,wEAAqB;AAC/C;AACA;AACA,0BAA0B,+EAAsB;AAChD;AACA,uCAAuC,IAAI;AAC3C;AACA;AACA,6CAA6C,GAAG;AAChD,yBAAyB,IAAI;AAC7B;AACA;AACA,gBAAgB,uDAAW;AAC3B;AACA,SAAS;AACT,KAAK;AACL;AACA,UAAU,iEAAkB;AAC5B;AACA,CAAC","sources":["webpack://innomax/./TypeScript/workspace/01_dashboard.ts","webpack://innomax/./TypeScript/workspace/02_view.ts","webpack://innomax/./TypeScript/workspace/03_user-register.ts","webpack://innomax/./TypeScript/workspace/04_order-register_main.ts","webpack://innomax/./TypeScript/workspace/05_order-register_tab_1.ts","webpack://innomax/./TypeScript/workspace/06_order-register_tab_2.ts","webpack://innomax/./TypeScript/workspace/07_order-register_tab_3.ts","webpack://innomax/./TypeScript/workspace/utils/ModalUtil.ts","webpack://innomax/./TypeScript/workspace/utils/loading.ts","webpack://innomax/webpack/bootstrap","webpack://innomax/webpack/runtime/define property getters","webpack://innomax/webpack/runtime/hasOwnProperty shorthand","webpack://innomax/webpack/runtime/make namespace object","webpack://innomax/./TypeScript/workspace/00_workspace.ts"],"sourcesContent":["/**\n * ğŸ“Š ì¥ë¹„ ëŒ€ì‹œë³´ë“œ ì´ˆê¸°í™” (ì „ì²´ ì½”ë“œ)\n */\nexport async function initDashboardPanel(API_BASE) {\n    console.debug(\"ğŸ“Š [Dashboard] ì´ˆê¸°í™” ì‹œì‘\");\n}\n","// src/view.ts\nexport function initView(API_BASE) {\n    const userData = localStorage.getItem(\"user\");\n    if (!userData) {\n        alert(\"ì„¸ì…˜ ë§Œë£Œ ë˜ëŠ” ë¹„ì •ìƒ ì ‘ê·¼ì…ë‹ˆë‹¤.\");\n        window.location.href = \"index.html\";\n        return;\n    }\n    const user = JSON.parse(userData);\n    const userName = document.getElementById(\"userName\");\n    const avatar = document.getElementById(\"avatar\");\n    if (userName)\n        userName.textContent = user.name;\n    if (avatar)\n        avatar.textContent = user.name.charAt(0).toUpperCase();\n    // âœ… ì„¸ì…˜ ë§Œë£Œ ì²´í¬ (30ë¶„ ê¸°ì¤€)\n    const loginTime = user.loginTime;\n    const now = Date.now();\n    if (now - loginTime > 1000 * 60 * 30) {\n        alert(\"ì„¸ì…˜ì´ ë§Œë£Œë˜ì—ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ë¡œê·¸ì¸ í•´ì£¼ì„¸ìš”.\");\n        localStorage.clear();\n        window.location.href = \"index.html\";\n    }\n    // âœ… ë¡œê·¸ì•„ì›ƒ ë²„íŠ¼ ì´ë²¤íŠ¸\n    document.getElementById(\"logoutBtn\")?.addEventListener(\"click\", () => {\n        localStorage.clear();\n        fetch(`${API_BASE}/api/login/logout`, {\n            method: \"POST\",\n            credentials: \"include\",\n        }).catch(() => { });\n        window.location.href = \"index.html\";\n    });\n    // âœ… ë’¤ë¡œê°€ê¸° ë°©ì§€\n    history.pushState(null, \"\", location.href);\n    window.onpopstate = function () {\n        history.go(1);\n    };\n}\n","export function initUserRegisterPanel(API_BASE) {\n    const userTableBody = document.getElementById(\"userTableBody\");\n    const userCount = document.getElementById(\"userCount\");\n    const userForm = document.getElementById(\"userForm\");\n    const modalMode = document.getElementById(\"modalMode\");\n    const modalNo = document.getElementById(\"modalNo\");\n    const userModal = document.getElementById(\"userModal\");\n    const permPreview = document.getElementById(\"permPreview\");\n    const permLabels = {\n        order_register: \"ìˆ˜ì£¼ê±´ë“±ë¡\",\n        task_assign: \"ì—…ë¬´í• ë‹¹\",\n        progress: \"ì§„í–‰ìƒí™©\",\n        report: \"ì§„í–‰ìƒí™©ë³´ê³ \",\n        request: \"ìš”ì²­ì‚¬í•­\",\n    };\n    const permValues = {\n        ReadWrite: \"ì½ê³  ì“°ê¸° ê°€ëŠ¥\",\n        ReadOnly: \"ì½ê¸° ì „ìš©\",\n        NoAccess: \"ì ‘ê·¼ ë¶ˆê°€\",\n    };\n    function parsePerm(json) {\n        try {\n            const obj = json ? JSON.parse(json) : {};\n            return {\n                order_register: obj.order_register ?? \"NoAccess\",\n                task_assign: obj.task_assign ?? \"NoAccess\",\n                progress: obj.progress ?? \"NoAccess\",\n                report: obj.report ?? \"NoAccess\",\n                request: obj.request ?? \"NoAccess\",\n            };\n        }\n        catch {\n            return {\n                order_register: \"NoAccess\",\n                task_assign: \"NoAccess\",\n                progress: \"NoAccess\",\n                report: \"NoAccess\",\n                request: \"NoAccess\",\n            };\n        }\n    }\n    function updatePermPreview(permissions) {\n        if (!permPreview)\n            return;\n        const html = Object.entries(permissions)\n            .map(([k, v]) => `${permLabels[k]} : ${permValues[v]}`)\n            .join(\"<br>\");\n        permPreview.innerHTML = html;\n    }\n    // ğŸŸ¦ ì‚¬ìš©ì ëª©ë¡ ë Œë”ë§\n    async function renderUsers() {\n        try {\n            const res = await fetch(`${API_BASE}/api/users`);\n            const users = await res.json();\n            userTableBody.innerHTML = \"\";\n            users.forEach((u, idx) => {\n                const p = parsePerm(u.permissions);\n                const permText = Object.entries(p)\n                    .map(([k, v]) => `${permLabels[k]} : ${permValues[v]}`)\n                    .join(\"<br>\");\n                userTableBody.innerHTML += `\n          <tr>\n            <td class=\"px-4 py-2\">${idx + 1}</td>\n            <td class=\"px-4 py-2\">${u.Name ?? \"-\"}</td>\n            <td class=\"px-4 py-2\">${u.ID}</td>\n            <td class=\"px-4 py-2\">****</td>\n            <td class=\"px-4 py-2\">${u.email ?? \"-\"}</td>\n            <td class=\"px-4 py-2\">${u.company_part ?? \"-\"}</td>\n            <td class=\"px-4 py-2 text-xs\">${permText}</td>\n            <td class=\"px-4 py-2 text-center space-x-2\">\n              <button data-action=\"edit\" data-no=\"${u.No}\" class=\"px-3 py-1 bg-yellow-400 text-white rounded text-xs\">ìˆ˜ì •</button>\n              <button data-action=\"delete\" data-no=\"${u.No}\" class=\"px-3 py-1 bg-red-500 text-white rounded text-xs\">ì‚­ì œ</button>\n            </td>\n          </tr>`;\n            });\n            userCount.innerText = `${users.length}ëª…`;\n        }\n        catch (err) {\n            console.error(\"âŒ ì‚¬ìš©ì ëª©ë¡ ë¶ˆëŸ¬ì˜¤ê¸° ì‹¤íŒ¨:\", err);\n        }\n    }\n    // ğŸŸ¦ ëª¨ë‹¬ ì—´ê¸°\n    async function openUserModal(mode, no) {\n        const title = document.getElementById(\"modalTitle\");\n        const nameInput = document.getElementById(\"modalName\");\n        const idInput = document.getElementById(\"modalID\");\n        const passwordInput = document.getElementById(\"modalPassword\");\n        const emailInput = document.getElementById(\"modalEmail\");\n        const companyInput = document.getElementById(\"modalCompanyPart\");\n        const Select = (id) => document.getElementById(id);\n        passwordInput.type = \"password\";\n        // ==============================\n        // ì‹ ê·œ ì‚¬ìš©ì ì¶”ê°€\n        // ==============================\n        if (mode === \"add\") {\n            title.innerText = \"ì‹ ê·œ ì‚¬ìš©ì ì¶”ê°€\";\n            modalMode.value = \"add\";\n            modalNo.value = \"\";\n            userForm.reset();\n            const defaultPerm = {\n                order_register: \"ReadWrite\",\n                task_assign: \"ReadWrite\",\n                progress: \"ReadWrite\",\n                report: \"ReadWrite\",\n                request: \"ReadWrite\",\n            };\n            Select(\"ìˆ˜ì£¼ê±´ë“±ë¡\").value = defaultPerm.order_register;\n            Select(\"ì—…ë¬´í• ë‹¹\").value = defaultPerm.task_assign;\n            Select(\"ì§„í–‰ìƒí™©\").value = defaultPerm.progress;\n            Select(\"ì§„í–‰ìƒí™©ë³´ê³ \").value = defaultPerm.report;\n            Select(\"ìš”ì²­ì‚¬í•­\").value = defaultPerm.request;\n            updatePermPreview(defaultPerm);\n        }\n        // ==============================\n        // ì‚¬ìš©ì ìˆ˜ì •\n        // ==============================\n        else if (mode === \"edit\" && no) {\n            try {\n                const res = await fetch(`${API_BASE}/api/users/${no}`);\n                const u = await res.json();\n                title.innerText = \"ì‚¬ìš©ì ìˆ˜ì •\";\n                modalMode.value = \"edit\";\n                modalNo.value = u.No;\n                nameInput.value = u.Name ?? \"\";\n                idInput.value = u.ID;\n                passwordInput.value = \"\";\n                passwordInput.placeholder = \"ë³€ê²½ ì‹œì—ë§Œ ì…ë ¥\";\n                emailInput.value = u.email ?? \"\";\n                companyInput.value = u.company_part ?? \"\";\n                const p = parsePerm(u.permissions);\n                Select(\"ìˆ˜ì£¼ê±´ë“±ë¡\").value = p.order_register;\n                Select(\"ì—…ë¬´í• ë‹¹\").value = p.task_assign;\n                Select(\"ì§„í–‰ìƒí™©\").value = p.progress;\n                Select(\"ì§„í–‰ìƒí™©ë³´ê³ \").value = p.report;\n                Select(\"ìš”ì²­ì‚¬í•­\").value = p.request;\n                updatePermPreview(p);\n            }\n            catch (err) {\n                console.error(\"âŒ ì‚¬ìš©ì ì •ë³´ ë¶ˆëŸ¬ì˜¤ê¸° ì‹¤íŒ¨:\", err);\n            }\n        }\n        userModal.classList.remove(\"hidden\");\n    }\n    // ğŸŸ¦ ëª¨ë‹¬ ë‹«ê¸°\n    function closeUserModal() {\n        userModal.classList.add(\"hidden\");\n    }\n    window.togglePassword = function () {\n        const input = document.getElementById(\"modalPassword\");\n        input.type = input.type === \"password\" ? \"text\" : \"password\";\n    };\n    // ìƒˆ ê¶Œí•œ ID\n    const permIds = [\"ìˆ˜ì£¼ê±´ë“±ë¡\", \"ì—…ë¬´í• ë‹¹\", \"ì§„í–‰ìƒí™©\", \"ì§„í–‰ìƒí™©ë³´ê³ \", \"ìš”ì²­ì‚¬í•­\"];\n    // ğŸŸ¦ ê¶Œí•œ select ë³€ê²½ â†’ ë¯¸ë¦¬ë³´ê¸° ê°±ì‹ \n    permIds.forEach((id) => {\n        const el = document.getElementById(id);\n        if (el) {\n            el.addEventListener(\"change\", () => {\n                const p = {\n                    order_register: document.getElementById(\"ìˆ˜ì£¼ê±´ë“±ë¡\").value,\n                    task_assign: document.getElementById(\"ì—…ë¬´í• ë‹¹\").value,\n                    progress: document.getElementById(\"ì§„í–‰ìƒí™©\").value,\n                    report: document.getElementById(\"ì§„í–‰ìƒí™©ë³´ê³ \").value,\n                    request: document.getElementById(\"ìš”ì²­ì‚¬í•­\").value,\n                };\n                updatePermPreview(p);\n            });\n        }\n    });\n    // ğŸŸ¦ ì €ì¥\n    if (userForm) {\n        userForm.addEventListener(\"submit\", async (e) => {\n            e.preventDefault();\n            const mode = modalMode.value;\n            const no = modalNo.value || undefined;\n            const Name = document.getElementById(\"modalName\").value.trim();\n            const ID = document.getElementById(\"modalID\").value.trim();\n            const password = document.getElementById(\"modalPassword\").value.trim();\n            const email = document.getElementById(\"modalEmail\").value.trim() || null;\n            const company_part = document.getElementById(\"modalCompanyPart\").value.trim() || null;\n            const permissions = {\n                order_register: document.getElementById(\"ìˆ˜ì£¼ê±´ë“±ë¡\").value,\n                task_assign: document.getElementById(\"ì—…ë¬´í• ë‹¹\").value,\n                progress: document.getElementById(\"ì§„í–‰ìƒí™©\").value,\n                report: document.getElementById(\"ì§„í–‰ìƒí™©ë³´ê³ \").value,\n                request: document.getElementById(\"ìš”ì²­ì‚¬í•­\").value,\n            };\n            try {\n                if (mode === \"add\") {\n                    await fetch(`${API_BASE}/api/users`, {\n                        method: \"POST\",\n                        headers: { \"Content-Type\": \"application/json\" },\n                        body: JSON.stringify({ Name, ID, password, email, company_part, permissions }),\n                    });\n                }\n                else {\n                    const payload = { Name, ID, email, company_part, permissions };\n                    if (password)\n                        payload.password = password;\n                    await fetch(`${API_BASE}/api/users/${no}`, {\n                        method: \"PUT\",\n                        headers: { \"Content-Type\": \"application/json\" },\n                        body: JSON.stringify(payload),\n                    });\n                }\n                await renderUsers();\n                closeUserModal();\n            }\n            catch (err) {\n                console.error(\"âŒ ì‚¬ìš©ì ì €ì¥ ì‹¤íŒ¨:\", err);\n            }\n        });\n    }\n    // ğŸŸ¦ ì‚­ì œ\n    async function deleteUser(no) {\n        await fetch(`${API_BASE}/api/users/${no}`, { method: \"DELETE\" });\n        await renderUsers();\n    }\n    userTableBody.addEventListener(\"click\", (e) => {\n        const target = e.target;\n        if (target.dataset.action === \"edit\")\n            openUserModal(\"edit\", target.dataset.no);\n        if (target.dataset.action === \"delete\")\n            deleteUser(target.dataset.no);\n    });\n    document.addEventListener(\"keydown\", (e) => {\n        if (e.key === \"Escape\")\n            closeUserModal();\n    });\n    window.openAddUserModal = () => openUserModal(\"add\");\n    window.closeUserModal = closeUserModal;\n    renderUsers();\n}\n","let initOrderRegister_main_init = false;\nimport { initOrderRegister_tab_1 } from \"./05_order-register_tab_1\";\nimport { initOrderRegister_tab_2 } from \"./06_order-register_tab_2\";\nimport { initOrderRegister_tab_3 } from \"./07_order-register_tab_3\";\nexport function initOrderRegister_main(API_BASE) {\n    // ëª¨ë“  íƒ­ ìˆ¨ê¸°ê¸° (ì ‘ê·¼ ì‹œë§ˆë‹¤ ì‹¤í–‰)\n    const tabs = document.querySelectorAll(\".tab-panel\");\n    tabs.forEach((tab) => {\n        tab.classList.add(\"opacity-0\", \"translate-x-10\", \"pointer-events-none\");\n    });\n    if (initOrderRegister_main_init)\n        return;\n    initOrderRegister_main_init = true;\n    //ê° íƒ­í˜ì´ì§€ ì ‘ì†\n    const tabButtons = document.querySelectorAll(\"[data-tab-target]\");\n    tabButtons.forEach((button) => {\n        button.addEventListener(\"click\", () => {\n            const targetTab = button.getAttribute(\"data-tab-target\");\n            // ì„ íƒëœ íƒ­ í™œì„±í™”\n            const activeTab = document.querySelector(`#${targetTab}`);\n            if (activeTab) {\n                activeTab.classList.remove(\"opacity-0\", \"translate-x-10\", \"pointer-events-none\");\n            }\n            // íƒ­ì— ë”°ë¼ ì´ˆê¸°í™” í•¨ìˆ˜ í˜¸ì¶œ\n            switch (targetTab) {\n                case \"orderRegisterPage_tab_1\":\n                    initOrderRegister_tab_1(API_BASE);\n                    break;\n                case \"orderRegisterPage_tab_2\":\n                    initOrderRegister_tab_2(API_BASE);\n                    break;\n                case \"orderRegisterPage_tab_3\":\n                    initOrderRegister_tab_3(API_BASE);\n                    break;\n                default:\n                    console.warn(\"Unknown tab:\", targetTab);\n            }\n        });\n    });\n}\n","//ì—¬ê¸°ëŠ” ìˆ˜ì£¼ê±´ ë“±ë¡ìª½ì„ ì´ˆê¸°\nlet initOrderRegister_tab_1_init = false;\nexport function initOrderRegister_tab_1(API_BASE) {\n    // íƒ­ íŒ¨ë„\n    const orderNo_orderRegisterPage_tab_1 = document.getElementById(\"orderNo_orderRegisterPage_tab_1\");\n    const equipName_orderRegisterPage_tab_1 = document.getElementById(\"equipName_orderRegisterPage_tab_1\");\n    const clientName_orderRegisterPage_tab_1 = document.getElementById(\"clientName_orderRegisterPage_tab_1\");\n    const packDate_orderRegisterPage_tab_1 = document.getElementById(\"packDate_orderRegisterPage_tab_1\");\n    const deliveryDate_orderRegisterPage_tab_1 = document.getElementById(\"deliveryDate_orderRegisterPage_tab_1\");\n    const hartMakeMain_orderRegisterPage_tab_1 = document.getElementById(\"hartMakeMain_orderRegisterPage_tab_1\");\n    const hartMakeSub_orderRegisterPage_tab_1 = document.getElementById(\"hartMakeSub_orderRegisterPage_tab_1\");\n    const hartMakeCompany_orderRegisterPage_tab_1 = document.getElementById(\"hartMakeCompany_orderRegisterPage_tab_1\");\n    const plcMain_orderRegisterPage_tab_1 = document.getElementById(\"plcMain_orderRegisterPage_tab_1\");\n    const plcSub_orderRegisterPage_tab_1 = document.getElementById(\"plcSub_orderRegisterPage_tab_1\");\n    const plcCompany_orderRegisterPage_tab_1 = document.getElementById(\"plcCompany_orderRegisterPage_tab_1\");\n    const wireMain_orderRegisterPage_tab_1 = document.getElementById(\"wireMain_orderRegisterPage_tab_1\");\n    const wireSub_orderRegisterPage_tab_1 = document.getElementById(\"wireSub_orderRegisterPage_tab_1\");\n    const wireCompany_orderRegisterPage_tab_1 = document.getElementById(\"wireCompany_orderRegisterPage_tab_1\");\n    const setupMain_orderRegisterPage_tab_1 = document.getElementById(\"setupMain_orderRegisterPage_tab_1\");\n    const setupSub_orderRegisterPage_tab_1 = document.getElementById(\"setupSub_orderRegisterPage_tab_1\");\n    const btnSaveOrder_orderRegisterPage_tab_1 = document.getElementById(\"btnSaveOrder_orderRegisterPage_tab_1\");\n    const orderListBody_orderRegisterPage_tab_1 = document.getElementById(\"orderListBody_orderRegisterPage_tab_1\");\n    if (initOrderRegister_tab_1_init) {\n        clearOrderRegisterTab1Inputs();\n        return;\n    }\n    initOrderRegister_tab_1_init = true;\n    //#region ê°ì¢… ìœ í‹¸ í•¨ìˆ˜ê´€ë ¨\n    function clearOrderRegisterTab1Inputs() {\n        orderNo_orderRegisterPage_tab_1.value = \"\";\n        equipName_orderRegisterPage_tab_1.value = \"\";\n        clientName_orderRegisterPage_tab_1.value = \"\";\n        packDate_orderRegisterPage_tab_1.value = \"\";\n        deliveryDate_orderRegisterPage_tab_1.value = \"\";\n        hartMakeMain_orderRegisterPage_tab_1.value = \"\";\n        hartMakeSub_orderRegisterPage_tab_1.value = \"\";\n        hartMakeCompany_orderRegisterPage_tab_1.value = \"\";\n        plcMain_orderRegisterPage_tab_1.value = \"\";\n        plcSub_orderRegisterPage_tab_1.value = \"\";\n        plcCompany_orderRegisterPage_tab_1.value = \"\";\n        wireMain_orderRegisterPage_tab_1.value = \"\";\n        wireSub_orderRegisterPage_tab_1.value = \"\";\n        wireCompany_orderRegisterPage_tab_1.value = \"\";\n        setupMain_orderRegisterPage_tab_1.value = \"\";\n        setupSub_orderRegisterPage_tab_1.value = \"\";\n    }\n    //#endregion\n    //#region ìˆ˜ì£¼ê±´ ì €ì¥ í•¨ìˆ˜\n    async function saveOrderRegisterTab1() {\n        const payload = {\n            orderNo: orderNo_orderRegisterPage_tab_1.value,\n            equipName: equipName_orderRegisterPage_tab_1.value,\n            clientName: clientName_orderRegisterPage_tab_1.value,\n            packDate: packDate_orderRegisterPage_tab_1.value,\n            deliveryDate: deliveryDate_orderRegisterPage_tab_1.value,\n            hartMakeMain: hartMakeMain_orderRegisterPage_tab_1.value,\n            hartMakeSub: hartMakeSub_orderRegisterPage_tab_1.value,\n            hartMakeCompany: hartMakeCompany_orderRegisterPage_tab_1.value,\n            plcMain: plcMain_orderRegisterPage_tab_1.value,\n            plcSub: plcSub_orderRegisterPage_tab_1.value,\n            plcCompany: plcCompany_orderRegisterPage_tab_1.value,\n            wireMain: wireMain_orderRegisterPage_tab_1.value,\n            wireSub: wireSub_orderRegisterPage_tab_1.value,\n            wireCompany: wireCompany_orderRegisterPage_tab_1.value,\n            setupMain: setupMain_orderRegisterPage_tab_1.value,\n            setupSub: setupSub_orderRegisterPage_tab_1.value,\n        };\n        try {\n            const response = await fetch(`${API_BASE}/orders`, {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                },\n                body: JSON.stringify(payload),\n            });\n            if (!response.ok) {\n                throw new Error(\"Failed to save order\");\n            }\n            clearOrderRegisterTab1Inputs();\n            // ì¶”ê°€ë¡œ, ìˆ˜ì£¼ê±´ ëª©ë¡ì„ ìƒˆë¡œê³ ì¹¨í•˜ëŠ” í•¨ìˆ˜ í˜¸ì¶œ ê°€ëŠ¥\n        }\n        catch (error) {\n            console.error(\"Error saving order:\", error);\n            alert(\"Error saving order. Please try again. ê°œë°œì ë¬¸ì˜!\");\n        }\n    }\n    //#endrion\n    //#region í˜„ì¬ ë“±ë¡ ë˜ì–´ìˆëŠ” ìˆ˜ì£¼ê±´ ë¶ˆëŸ¬ì˜¤ê¸°\n    //#endregion\n    //#region ê°ì¢… ì´ë²¤íŠ¸ì“°\n    btnSaveOrder_orderRegisterPage_tab_1.addEventListener(\"click\", async () => {\n        showProgressModal(\"ìˆ˜ì£¼ê±´ ì €ì¥ ì¤‘...\");\n        updateProgressBar(10);\n        await new Promise(resolve => setTimeout(resolve, 500)); // ì™„ë£Œ í›„ ì§€ì—°\n        updateProgressBar(50);\n        await new Promise(resolve => setTimeout(resolve, 200)); // ì™„ë£Œ í›„ ì§€ì—°\n        updateProgressBar(70);\n        await new Promise(resolve => setTimeout(resolve, 100)); // ì™„ë£Œ í›„ ì§€ì—°\n        updateProgressBar(100);\n        //await saveOrderRegisterTab1();\n        hideProgressModal();\n    });\n    //#endregion\n    //#region í”„ë¡œê·¸ë ˆìŠ¤ë°” ê´€ë ¨ ê±´ë“œí•„ìš”ì—†ìŒ\n    function showProgressModal(message = \"ì ì‹œë§Œ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”.\") {\n        const progressModal = document.getElementById(\"progressModal_orderRegisterPage\");\n        const progressBar = document.getElementById(\"progressBar_orderRegisterPage\");\n        const progressMessage = document.getElementById(\"progressMessage_orderRegisterPage\");\n        if (progressModal && progressBar && progressMessage) {\n            progressMessage.textContent = message;\n            progressBar.style.width = \"0%\"; // ì´ˆê¸°í™”\n            progressModal.classList.remove(\"hidden\");\n        }\n    }\n    function hideProgressModal() {\n        const progressModal = document.getElementById(\"progressModal_orderRegisterPage\");\n        if (progressModal) {\n            progressModal.classList.add(\"hidden\");\n        }\n    }\n    function updateProgressBar(percentage) {\n        const progressBar = document.getElementById(\"progressBar_orderRegisterPage\");\n        if (progressBar) {\n            progressBar.style.width = `${percentage}%`;\n        }\n    }\n    //#endregion\n}\n","let initOrderRegister_tab_2_init = false;\nexport function initOrderRegister_tab_2(API_BASE) {\n    console.log(\"íƒ­2\");\n    if (initOrderRegister_tab_2_init)\n        return;\n}\n","let initOrderRegister_tab_3_init = false;\nexport function initOrderRegister_tab_3(API_BASE) {\n    console.log(\"íƒ­3\");\n    if (initOrderRegister_tab_3_init)\n        return;\n}\n","export const ModalUtil = {\n    el: null,\n    ensureElement() {\n        if (this.el)\n            return this.el;\n        const div = document.createElement(\"div\");\n        div.id = \"globalSimpleModal\";\n        div.className =\n            \"hidden fixed inset-0 z-[9999] flex items-center justify-center bg-black/50\";\n        div.innerHTML = `\n      <div id=\"modalBox\" class=\"bg-white w-[360px] rounded-2xl p-6 shadow-xl text-center\">\n        <div id=\"modalIcon\" class=\"text-5xl mb-4 select-none\"></div>\n        <h2 id=\"modalTitle\" class=\"text-xl font-bold mb-2\"></h2>\n        <p id=\"modalMessage\" class=\"text-sm text-gray-700 mb-6\"></p>\n        <div id=\"modalBtns\" class=\"flex justify-center gap-2\">\n          <button id=\"modalCancelBtn\"\n            class=\"px-4 py-2 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50 hidden\">ì·¨ì†Œ</button>\n          <button id=\"modalOkBtn\"\n            class=\"px-4 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700 hidden\">í™•ì¸</button>\n        </div>\n      </div>\n    `;\n        document.body.appendChild(div);\n        this.el = div;\n        return div;\n    },\n    setStyle(type) {\n        const el = this.ensureElement();\n        const iconEl = el.querySelector(\"#modalIcon\");\n        const titleEl = el.querySelector(\"#modalTitle\");\n        if (type === \"alert\") {\n            iconEl.textContent = \"â„¹ï¸\";\n            iconEl.className = \"text-5xl text-blue-600 mb-4\";\n            titleEl.className = \"text-xl font-bold mb-2 text-blue-700\";\n        }\n        else {\n            iconEl.textContent = \"âš ï¸\";\n            iconEl.className = \"text-5xl text-yellow-500 mb-4\";\n            titleEl.className = \"text-xl font-bold mb-2 text-yellow-700\";\n        }\n    },\n    /**\n     * âœ¨ ë‹¨ì¼ ëª¨ë‹¬ í˜¸ì¶œ\n     * - alert â†’ ì•„ë¬´ ê°’ ì—†ìŒ\n     * - warn â†’ boolean ë°˜í™˜\n     */\n    async show({ type = \"alert\", title = \"ì•Œë¦¼\", message = \"\", showOk = true, showCancel = false, }) {\n        const el = this.ensureElement();\n        const titleEl = el.querySelector(\"#modalTitle\");\n        const msgEl = el.querySelector(\"#modalMessage\");\n        const okBtn = el.querySelector(\"#modalOkBtn\");\n        const cancelBtn = el.querySelector(\"#modalCancelBtn\");\n        // ìŠ¤íƒ€ì¼\n        this.setStyle(type);\n        // ë‚´ìš©\n        titleEl.textContent = title;\n        msgEl.textContent = message;\n        // ë²„íŠ¼ í‘œì‹œ ì—¬ë¶€\n        okBtn.classList.toggle(\"hidden\", !showOk);\n        cancelBtn.classList.toggle(\"hidden\", !showCancel);\n        // í‘œì‹œ\n        el.classList.remove(\"hidden\");\n        // -----------------------\n        // alert ëª¨ë‹¬ì€ í™•ì¸ë§Œ í•„ìš”\n        // -----------------------\n        if (type === \"alert\") {\n            return new Promise((resolve) => {\n                const close = () => {\n                    this.hide();\n                    okBtn.removeEventListener(\"click\", close);\n                    resolve();\n                };\n                okBtn.addEventListener(\"click\", close);\n            });\n        }\n        // -----------------------\n        // warn ëª¨ë‹¬ì€ í™•ì¸/ì·¨ì†Œ í•„ìš”\n        // -----------------------\n        return new Promise((resolve) => {\n            const onOk = () => {\n                cleanup();\n                this.hide();\n                resolve(true);\n            };\n            const onCancel = () => {\n                cleanup();\n                this.hide();\n                resolve(false);\n            };\n            const cleanup = () => {\n                okBtn.removeEventListener(\"click\", onOk);\n                cancelBtn.removeEventListener(\"click\", onCancel);\n            };\n            okBtn.addEventListener(\"click\", onOk);\n            cancelBtn.addEventListener(\"click\", onCancel);\n        });\n    },\n    hide() {\n        const el = this.ensureElement();\n        el.classList.add(\"hidden\");\n    },\n};\n","/**\n * âœ… ì „ì—­ ë¡œë”© / ì§„í–‰ë¥  íŒì—… ìœ í‹¸ë¦¬í‹°\n * ìë™ ìƒì„± + ì§„í–‰ë¥  í‘œì‹œ + ìµœì†Œ í‘œì‹œì‹œê°„ í¬í•¨\n */\nexport const LoadingUtil = {\n    el: null,\n    ensureElement() {\n        if (this.el)\n            return this.el;\n        const div = document.createElement(\"div\");\n        div.id = \"globalLoadingPopup\";\n        div.className =\n            \"hidden fixed inset-0 z-[9999] flex items-center justify-center bg-black/40\";\n        div.innerHTML = `\n      <div class=\"bg-white rounded-lg shadow-lg px-8 py-6 text-center max-w-sm w-[90%] transition-all\">\n        <div id=\"spinnerWrap\" class=\"flex justify-center mb-4\">\n          <div class=\"w-10 h-10 border-4 border-blue-500 border-t-transparent rounded-full animate-spin\"></div>\n        </div>\n        <div id=\"progressWrap\" class=\"hidden flex flex-col items-center mb-2\">\n          <div class=\"w-32 bg-gray-200 rounded-full h-2 mb-2 overflow-hidden\">\n            <div id=\"progressBar\" class=\"bg-blue-500 h-2 rounded-full transition-all duration-200\" style=\"width:0%\"></div>\n          </div>\n          <span id=\"progressText\" class=\"text-xs text-gray-600\">0%</span>\n        </div>\n        <p id=\"loadingMessage\" class=\"text-gray-700 font-medium text-sm leading-relaxed\">\n          âš™ï¸ ì„œë²„ì—ì„œ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ì…ë‹ˆë‹¤.<br />ì ì‹œë§Œ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”.\n        </p>\n      </div>\n    `;\n        document.body.appendChild(div);\n        this.el = div;\n        return div;\n    },\n    /** ğŸ”¹ ì¼ë°˜ ë¡œë”© */\n    show(message) {\n        const el = this.ensureElement();\n        const msg = el.querySelector(\"#loadingMessage\");\n        const spinner = el.querySelector(\"#spinnerWrap\");\n        const progressWrap = el.querySelector(\"#progressWrap\");\n        if (msg) {\n            msg.innerHTML =\n                message ||\n                    `âš™ï¸ ì„œë²„ì—ì„œ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ì…ë‹ˆë‹¤.<br />ì ì‹œë§Œ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”.`;\n        }\n        spinner.classList.remove(\"hidden\");\n        progressWrap.classList.add(\"hidden\");\n        el.classList.remove(\"hidden\");\n    },\n    /** ğŸ”¹ ì§„í–‰ë¥  ê¸°ë°˜ ë¡œë”© */\n    showProgress(message = \"ğŸ’¾ ì„œë²„ì— ë°ì´í„°ë¥¼ ì €ì¥ ì¤‘ì…ë‹ˆë‹¤...\") {\n        const el = this.ensureElement();\n        const msg = el.querySelector(\"#loadingMessage\");\n        const spinner = el.querySelector(\"#spinnerWrap\");\n        const progressWrap = el.querySelector(\"#progressWrap\");\n        const progressBar = el.querySelector(\"#progressBar\");\n        const progressText = el.querySelector(\"#progressText\");\n        msg.innerHTML = message;\n        spinner.classList.add(\"hidden\");\n        progressWrap.classList.remove(\"hidden\");\n        el.classList.remove(\"hidden\");\n        // ì´ˆê¸°í™”\n        progressBar.style.width = \"0%\";\n        progressText.textContent = \"0%\";\n    },\n    /** ğŸ”¹ ì§„í–‰ë¥  ê°±ì‹  */\n    updateProgress(value) {\n        const el = this.ensureElement();\n        const bar = el.querySelector(\"#progressBar\");\n        const text = el.querySelector(\"#progressText\");\n        const percent = Math.min(100, Math.max(0, value));\n        if (bar)\n            bar.style.width = `${percent}%`;\n        if (text)\n            text.textContent = `${percent.toFixed(0)}%`;\n    },\n    /** ğŸ”¹ ë¡œë”© ì¢…ë£Œ */\n    hide() {\n        const el = this.ensureElement();\n        el.classList.add(\"hidden\");\n    },\n    /** ğŸ”¹ ì¼ë°˜ wrap (0.8ì´ˆ ìµœì†Œ ìœ ì§€) */\n    async wrap(promise, message) {\n        const MIN_DELAY = 800;\n        this.show(message);\n        try {\n            const [result] = await Promise.all([\n                promise,\n                new Promise(resolve => setTimeout(resolve, MIN_DELAY))\n            ]);\n            return result;\n        }\n        finally {\n            this.hide();\n        }\n    },\n    /** ğŸ”¹ ì§„í–‰ë¥  ê¸°ë°˜ Promise ë˜í•‘ */\n    async trackProgress(promise, message, duration = 1500) {\n        this.showProgress(message);\n        const el = this.ensureElement();\n        // ê°€ì§œ ì§„í–‰ë¥  ì‹œë®¬ë ˆì´ì…˜ (UXìš©)\n        let progress = 0;\n        const interval = setInterval(() => {\n            progress += Math.random() * 10 + 5;\n            this.updateProgress(progress);\n            if (progress >= 90)\n                clearInterval(interval);\n        }, 150);\n        try {\n            const result = await promise;\n            this.updateProgress(100);\n            await new Promise(resolve => setTimeout(resolve, duration)); // ì•½ê°„ì˜ ì—¬ìœ ì‹œê°„\n            return result;\n        }\n        finally {\n            clearInterval(interval);\n            this.hide();\n        }\n    }\n};\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// TypeScript/workspace/workspace.ts\nimport { initUserRegisterPanel } from \"./03_user-register\";\nimport { initView } from \"./02_view\";\nimport { initDashboardPanel } from \"./01_dashboard\";\nimport { LoadingUtil } from \"./utils/loading\";\nimport { initOrderRegister_main } from \"./04_order-register_main\";\nimport { ModalUtil } from \"./utils/ModalUtil\";\n// ==============================================================\n// ğŸ”µ API ê¸°ë³¸ì£¼ì†Œ\n// ==============================================================\nconst dummy = \"1\";\nconst API_BASE = location.hostname === \"tgyeo.github.io\"\n    ? \"https://port-0-innomax-mghorm7bef413a34.sel3.cloudtype.app\"\n    : \"http://127.0.0.1:5050\";\nfunction initLocalTabNavigation() {\n    const navButtons = document.querySelectorAll(\".nav-btn\");\n    const panels = document.querySelectorAll('[id^=\"panel-\"]');\n    const titleEl = document.getElementById(\"wsTitle\");\n    function showPanel(id) {\n        // 1) ëª¨ë“  íŒ¨ë„ ìˆ¨ê¸°ê¸°\n        panels.forEach((p) => p.classList.add(\"hidden\"));\n        // 2) í•´ë‹¹ íŒ¨ë„ í‘œì‹œ\n        const target = document.getElementById(id);\n        if (target)\n            target.classList.remove(\"hidden\");\n        // 3) ë²„íŠ¼ ìŠ¤íƒ€ì¼ ì ìš©\n        navButtons.forEach((btn) => {\n            const active = btn.dataset.panel === id;\n            btn.classList.toggle(\"bg-[#d4f7bf]\", active);\n            btn.classList.toggle(\"text-[#000000]\", active);\n            btn.classList.toggle(\"font-bold\", active);\n        });\n        // 4) ì œëª© ë³€ê²½\n        const curBtn = document.querySelector(`.nav-btn[data-panel=\"${id}\"]`);\n        if (curBtn && titleEl) {\n            titleEl.textContent = curBtn.textContent?.trim() ?? \"\";\n        }\n    }\n    // ì´ˆê¸° Dashboard\n    showPanel(\"panel-dashboard\");\n    return showPanel;\n}\n// ==============================================================\n// ğŸ”µ ë©”ì¸ ì´ˆê¸°í™”\n// ==============================================================\ndocument.addEventListener(\"DOMContentLoaded\", async () => {\n    console.debug(\"[INIT] DOMContentLoaded ì‹œì‘\");\n    // nav-btn ì „í™˜ ë¡œì§ í™œì„±í™”\n    const showPanel = initLocalTabNavigation();\n    // ê³µí†µ View ì´ˆê¸°í™”\n    await initView(API_BASE);\n    const sidebarButtons = document.querySelectorAll(\"#sidebar [data-panel]\");\n    const userName = document.getElementById(\"userName\");\n    sidebarButtons.forEach((btn) => {\n        btn.addEventListener(\"click\", async () => {\n            const id = btn.dataset.panel;\n            if (!id)\n                return;\n            // ----------------------------------------------\n            // ğŸ” 1) ê¶Œí•œ ì²´í¬ \n            // ----------------------------------------------\n            //ìµœìƒë‹¨ ì‚¬ìš©ì ê´€ë¦¬íƒ­\n            if (id.includes(\"ì‚¬ìš©ì-ê´€ë¦¬\")) {\n                const allowed = [\"ì¥í˜œìš©\", \"ì—¬íƒœê²€\"];\n                const current = (userName?.textContent ?? \"\").trim();\n                if (!allowed.includes(current)) {\n                    const ok = await ModalUtil.show({\n                        type: \"alert\",\n                        title: \"ì ‘ê·¼ ê¶Œí•œ\",\n                        message: \"ì ‘ê·¼ ê¶Œí•œì´ ì—†ìŠµë‹ˆë‹¤.\",\n                        showOk: true,\n                        showCancel: false\n                    });\n                    if (ok) {\n                        return; // â— showPanel ì‹¤í–‰ ì „ return â†’ íŒ¨ë„ì´ ì•ˆ ë³´ì„\n                    }\n                    else {\n                        return; // â— showPanel ì‹¤í–‰ ì „ return â†’ íŒ¨ë„ì´ ì•ˆ ë³´ì„\n                    }\n                }\n            }\n            if (id.includes(\"orderRegisterPage\")) {\n                try {\n                    const url = `${API_BASE}/api/users`;\n                    const res = await fetch(url);\n                    if (!res.ok) {\n                        console.error(\"âŒ ì‚¬ìš©ì ëª©ë¡ ë¶ˆëŸ¬ì˜¤ê¸° ì‹¤íŒ¨\");\n                        return;\n                    }\n                    const userList = await res.json(); // ë°°ì—´ ì „ì²´ë¥¼ ë°›ì•„ì˜¨ë‹¤ê³  ê°€ì •\n                    console.log(\"ğŸ“Œ ì‚¬ìš©ì ì „ì²´ ëª©ë¡:\", userList);\n                    const allowed = [];\n                    for (const user of userList) {\n                        try {\n                            // permissions í•„ë“œëŠ” ë¬¸ìì—´ â†’ JSON íŒŒì‹±\n                            const perms = JSON.parse(user.permissions);\n                            // ìˆ˜ì£¼ê±´ë“±ë¡ ê¶Œí•œ ì²´í¬\n                            if (perms.order_register === \"ReadWrite\") {\n                                allowed.push(user.Name); // ë˜ëŠ” user.ID\n                            }\n                        }\n                        catch (err) {\n                            console.error(\"âŒ permission íŒŒì‹± ì‹¤íŒ¨:\", user.permissions, err);\n                        }\n                    }\n                    console.log(\"âœ… ìˆ˜ì£¼ê±´ ë“±ë¡ ê¶Œí•œì ëª©ë¡:\", allowed);\n                    // ì—¬ê¸°ì„œ allowed ë°°ì—´ì„ ì‹¤ì œ ê¶Œí•œ ì²´í¬ì— ì‚¬ìš©\n                    const currentUser = (userName?.textContent ?? \"\").trim();\n                    if (!allowed.includes(currentUser)) {\n                        const ok = await ModalUtil.show({\n                            type: \"alert\",\n                            title: \"ì ‘ê·¼ ê¶Œí•œ\",\n                            message: \"ì ‘ê·¼ ê¶Œí•œì´ ì—†ìŠµë‹ˆë‹¤.\",\n                            showOk: true,\n                            showCancel: false\n                        });\n                        if (ok) {\n                            return; // â— showPanel ì‹¤í–‰ ì „ return â†’ íŒ¨ë„ì´ ì•ˆ ë³´ì„\n                        }\n                        else {\n                            return; // â— showPanel ì‹¤í–‰ ì „ return â†’ íŒ¨ë„ì´ ì•ˆ ë³´ì„\n                        }\n                    }\n                }\n                catch (err) {\n                    console.error(\"âŒ ì‚¬ìš©ì ê¶Œí•œ ë¡œë”© ì˜¤ë¥˜:\", err);\n                }\n            }\n            // ----------------------------------------------\n            // ğŸ”µ 2) íŒ¨ë„ ì „í™˜(showPanel) ì‹¤í–‰\n            //     â†’ íŒ¨ë„ì´ ì‹œê°ì ìœ¼ë¡œ ë³´ì´ëŠ” ë‹¨ê³„\n            // ----------------------------------------------\n            showPanel(id);\n            // ----------------------------------------------\n            // â³ 3) íŒ¨ë„ ì´ˆê¸°í™”\n            // ----------------------------------------------\n            LoadingUtil.show();\n            try {\n                await new Promise((r) => requestAnimationFrame(r));\n                if (id.includes(\"ëŒ€ì‹œë³´ë“œ\")) {\n                    await initDashboardPanel(API_BASE);\n                }\n                else if (id.includes(\"ì‚¬ìš©ì-ê´€ë¦¬\")) {\n                    await initUserRegisterPanel(API_BASE);\n                }\n                else if (id.includes(\"orderRegisterPage\")) {\n                    await initOrderRegister_main(API_BASE);\n                }\n                console.debug(`[TAB] ${id} ì´ˆê¸°í™” ì™„ë£Œ`);\n            }\n            catch (err) {\n                console.error(`[TAB ERROR] ${id}:`, err);\n                alert(`${id} ì´ˆê¸°í™” ì¤‘ ì˜¤ë¥˜ ë°œìƒ`);\n            }\n            finally {\n                LoadingUtil.hide();\n            }\n        });\n    });\n    // ì´ˆê¸° Dashboard ë°ì´í„° ë¡œë“œ\n    await initDashboardPanel(API_BASE);\n    console.debug(\"[INIT] workspace ì´ˆê¸°í™” ì™„ë£Œ\");\n});\n"],"names":[],"sourceRoot":""}